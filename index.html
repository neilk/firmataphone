<!doctype html>
<html>
<head>
    <meta charset="UTF-8">
    <script src="jquery-1.8.3.min.js"></script>
    <script src="handlebars-1.0.rc.1.js"></script>
    <script>
        Cycle = (function() {
            var cycle = {};
            cycle.chromatic = {
                'c': 'c',
                'c-sharp': 'c♯',
                'd': 'd',
                'e-flat': 'e♭',
                'e': 'e',
                'f': 'f',
                'f-sharp': 'f♯',
                'g': 'g',
                'a-flat': 'a♭',
                'a': 'a',
                'b-flat': 'b♭',
                'b': 'b'
            };

            // Initialize Cycle.chromatic
            $.each(cycle.chromatic, function(element, i) {
                var symbol = cycle.chromatic[element];
                cycle.chromatic[element] = {
                    symbol: symbol,
                    isPlaying: false
                }
            });


            cycle.togglePlay = function(noteName) {
                if (!Cycle.chromatic[noteName]) {
                    return false;
                }

                if (Cycle.chromatic[noteName] && Cycle.chromatic[noteName].isPlaying == false) {
                    return true;
                }
                return false;
            };

            return cycle;
        })();

        $(document).ready(function() {
            window.console.log(Cycle);

            // Generate buttons.
            $.each(Cycle.chromatic, function(element, i) {
                // Start loading source files.


                // Generate buttons.
                var source = Handlebars.compile($('#note-button-template').html());
                var button = source({ id: element, name: Cycle.chromatic[element].symbol });
                $('body').append(button);

            });

            $('.note-name').on('click', function(e) {
                e.preventDefault();
                Cycle.togglePlay($(this).attr('id'));
            });
        });
    </script>
    <style type="text/css">
        button {
            display: block;
            height: 22px;
            width: 30px;
            margin: 0.1em;
        }
    </style>
</head>
<body>

</body>

<script id="note-button-template" type="text/x-handlebars-template">
    <button id="{{ id }}" class="note-name">{{ name }}</button>
</script>
</html>
